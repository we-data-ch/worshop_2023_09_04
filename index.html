<!DOCTYPE html>
<html lang="en"><head>
<script src="workshop_2023_09_05_files/libs/clipboard/clipboard.min.js"></script>
<script src="workshop_2023_09_05_files/libs/quarto-html/tabby.min.js"></script>
<script src="workshop_2023_09_05_files/libs/quarto-html/popper.min.js"></script>
<script src="workshop_2023_09_05_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="workshop_2023_09_05_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="workshop_2023_09_05_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="workshop_2023_09_05_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="workshop_2023_09_05_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Vestin Hategekimana">
  <title>Workshop: R Workflow</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="workshop_2023_09_05_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="workshop_2023_09_05_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2; background-color: #282a36; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #ff79c6; } /* Annotation */
    code span.at { color: #ff79c6; } /* Attribute */
    code span.bn { color: #bd93f9; } /* BaseN */
    code span.bu { color: #8be9fd; } /* BuiltIn */
    code span.cf { color: #ff79c6; } /* ControlFlow */
    code span.ch { color: #f1fa8c; } /* Char */
    code span.cn { color: #bd93f9; font-weight: bold; } /* Constant */
    code span.co { color: #6272a4; } /* Comment */
    code span.cv { color: #8be9fd; } /* CommentVar */
    code span.do { color: #ffb86c; } /* Documentation */
    code span.dt { color: #8be9fd; font-style: italic; } /* DataType */
    code span.dv { color: #bd93f9; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #8be9fd; } /* Extension */
    code span.fl { color: #bd93f9; } /* Float */
    code span.fu { color: #50fa7b; } /* Function */
    code span.im { color: #ff79c6; } /* Import */
    code span.in { color: #f1fa8c; } /* Information */
    code span.kw { color: #ff79c6; } /* Keyword */
    code span.op { color: #f8f8f2; } /* Operator */
    code span.ot { color: #50fa7b; } /* Other */
    code span.pp { color: #ff79c6; } /* Preprocessor */
    code span.re { color: #8be9fd; } /* RegionMarker */
    code span.sc { color: #ff79c6; } /* SpecialChar */
    code span.ss { color: #f1fa8c; } /* SpecialString */
    code span.st { color: #f1fa8c; } /* String */
    code span.va { color: #8be9fd; } /* Variable */
    code span.vs { color: #f1fa8c; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="workshop_2023_09_05_files/libs/revealjs/dist/theme/quarto.css">
  <link href="workshop_2023_09_05_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="workshop_2023_09_05_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="workshop_2023_09_05_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="workshop_2023_09_05_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="workshop_2023_09_05_files/libs/quarto-diagram/mermaid.min.js"></script>
  <script src="workshop_2023_09_05_files/libs/quarto-diagram/mermaid-init.js"></script>
  <link href="workshop_2023_09_05_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Workshop: R Workflow</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Vestin Hategekimana 
</div>
</div>
</div>

</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#/before-we-start" id="/toc-before-we-start">Before we start</a></li>
<li><a href="#/introduction" id="/toc-introduction">(1) Introduction</a></li>
<li><a href="#/your-r-environment" id="/toc-your-r-environment">(2) Your R environment</a></li>
<li><a href="#/your-project-from-a-to-z" id="/toc-your-project-from-a-to-z">(3) Your project from A to Z</a></li>
<li><a href="#/show-your-results-with-quarto" id="/toc-show-your-results-with-quarto">(4) Show your results with Quarto</a></li>
<li><a href="#/questions-freestyle" id="/toc-questions-freestyle">(5) Questions &amp; freestyle</a></li>
</ul>
</nav>
</section>
<section id="before-we-start" class="title-slide slide level1 center">
<h1>Before we start</h1>
<div>
<ul>
<li class="fragment">Based on the future workshop for Take Over (UNIGE)</li>
<li class="fragment">Feel free to interrupt me or ask question (or leave)</li>
<li class="fragment">We will go on the group pace
<ul>
<li class="fragment">Slides are also tutorial for autonomous learning</li>
</ul></li>
<li class="fragment">slides are available online</li>
</ul>
</div>
</section>

<section>
<section id="introduction" class="title-slide slide level1 center">
<h1>(1) Introduction</h1>

</section>
<section id="why-a-workshop-on-workflow" class="slide level2">
<h2>Why a workshop on workflow?</h2>
<h3 id="because-it-is">Because it is…</h3>
<ul>
<li><p><span style="color: blue;">Not taught in statistical class</span></p>
<ul>
<li>Focus on statistical method</li>
<li>The tool is secondary</li>
</ul></li>
<li><p><span style="color: blue;">Hard to find good examples</span></p>
<ul>
<li>Online and offline sources focus on the script</li>
<li>Mostly for development</li>
</ul></li>
<li><p><span style="color: blue;">A matter of Statistical tool vs Programming language</span></p></li>
</ul>
</section>
<section class="slide level2">

<h3 id="problem-of-not-learning-workflow">Problem of not learning workflow:</h3>
<ol type="1">
<li><span style="color: blue;">Spaghetti code</span>
<ul>
<li>Unreadable, slow, unstable, not reusable</li>
</ul></li>
<li><span style="color: blue;">Non-reproducible work</span>
<ul>
<li>Works only on your computer under specific circumstances</li>
</ul></li>
<li><span style="color: blue;">Hard collaboration</span>
<ul>
<li>“You want to share that?”</li>
</ul></li>
<li><span style="color: blue;">Painful learning</span>
<ul>
<li>You need 5 times the energy required to do things and learn</li>
</ul></li>
</ol>
</section>
<section id="classical-vs-enhanced-workflow" class="slide level2">
<h2>Classical vs enhanced workflow</h2>
<h3 id="q-what-is-a-workflow-a-organizing-your-work">Q: What is a workflow? A: Organizing your work</h3>
<ul>
<li>From the Research idea to the final output</li>
<li>Final output:
<ul>
<li>Report/Article (PDF, Word)</li>
<li>Presentation (reveal.js, beamer, PowerPoint)</li>
<li>Website (HTML)</li>
<li>Book (HTML, PDF, Word, EPUB, AsciiDoc)</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="classical-workflow-as-presented-by-posit-previously-rstudio">Classical workflow as presented by Posit (previously RStudio)</h3>

<img data-src="pictures/data_science.png" class="r-stretch quarto-figure-center"><p class="caption">R for Data Science (Whickham &amp; Garrett, 2017)</p><p><a href="https://r4ds.had.co.nz/index.html">The online version of the book</a></p>
</section>
<section id="section" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h4 id="what-is-in-the-program-in-statistical-classes">What is in the program in statistical classes:</h4>
<div>
<ol type="1">
<li class="fragment">Research plan</li>
<li class="fragment">Data preparation</li>
<li class="fragment">Cleaning</li>
<li class="fragment">(Exploratory analysis)</li>
<li class="fragment">Descriptive analysis</li>
<li class="fragment">Inferential analysis (modelling)</li>
<li class="fragment">Presentation of results</li>
</ol>
</div>
</section>
<section id="section-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h4 id="what-we-really-focus-on-in-class">What we really <span style="color: red;">focus</span> on in class:</h4>
<ol type="1">
<li><span style="color: red;">Research plan</span></li>
<li>Data preparation</li>
<li>Cleaning</li>
<li>(Exploratory analysis)</li>
<li>Descriptive analysis</li>
<li><span style="color: red;">Inferential analysis (modelling)</span></li>
<li>Presentation of results</li>
</ol>
</section>
<section id="section-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h4 id="what-we-are-going-to-do-today">What we are going to do today:</h4>
<ol type="1">
<li><strong>Project set-up</strong></li>
<li>Cleaning</li>
<li>Descriptive analysis</li>
<li>Inferential analysis (modelling)</li>
<li>Presentation of results</li>
</ol>
</section>
<section id="section-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h4 id="what-we-are-going-to-focus-on-today">What we are going to <span style="color: red;">focus</span> on today:</h4>
<ol type="1">
<li><span style="color: red;"><strong>Project set-up</strong></span></li>
<li>Cleaning</li>
<li>Descriptive analysis</li>
<li>Inferential analysis (modelling)</li>
<li><span style="color: red;">Presentation of results</span></li>
</ol>
</section></section>
<section>
<section id="your-r-environment" class="title-slide slide level1 center">
<h1>(2) Your R environment</h1>

</section>
<section id="where-does-r-works" class="slide level2">
<h2>Where does R works?</h2>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>When you start a R session, R locate itself somewhere in your computer. The exact location is called <strong>Working directory (wd)</strong>.</p>
</div>
</div>
</div>
<h3 id="where-exactly">Where exactly?</h3>
<ul>
<li><strong>Working directory (wd)</strong>: Where R works in the moment.</li>
<li>To see where R work you can use the following code:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Get the working directory</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

<h3 id="default-working-directory-in-rstudio">Default Working directory in RStudio</h3>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Rstudio always start at the same place (contrary to other editors). To find the exact location go to:</p>
<p><code>Tools &gt; Global Options &gt; General</code> (in the tab “Basic”)</p>
<p>This is the used location when RStudio doesn’t work with a project. See next picture for a visual representation.</p>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="pictures/global_options_general.png" class="r-stretch quarto-figure-center"><p class="caption">The location is under “Default working directory (when not in a project)”</p></section>
<section class="slide level2">

<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Take notes!</strong></p>
</div>
<div class="callout-content">
<p>It is good practice to place all (or most) of your R code in a same folder.</p>
<blockquote>
<p>In my case, I have a <code>Code</code> folder that contain every programming language I use (There is one for R). Inside each folder, there are at least Two folders: <code>Test(s)</code>, where I test new things and <code>Project</code> where I put all my serious projects in their dedicated folder. <span style="color: red;">This is in the <code>Test(s)</code> folder that we will</span> <span style="color: red;">set our default working directory</span>.</p>
</blockquote>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p><strong>Exercices</strong></p>
<ol type="1">
<li>Create a folder dedicated to R and create the <code>Test</code> and <code>Project</code> folders inside it.</li>
<li>Based on the three previous slides change the de default working directory to the <code>Test</code> directory.</li>
<li>Displace all of your R code to R folder
<ul>
<li>Group all the files that work together under a same project folder inside the <code>Project</code> folder.</li>
<li>For all the R file you don’t know what to do with put them in the <code>Test</code> folder, it will be useful later!</li>
</ul></li>
</ol>
</section>
<section class="slide level2">

<h3 id="advantages">Advantages</h3>
<ol type="1">
<li>You always know where your files are: <span style="color: red;">it must be in the R folder!!!</span></li>
<li>You have now a distinction between your playground (<code>Test</code> folder) and your serious works <code>Project</code></li>
<li>You’ve just created your <span style="color: green;">best learning resource for R</span>
<ul>
<li>Powerful with <code>ctrl/cmd + shift + f</code> in RStudio</li>
</ul></li>
</ol>
</section>
<section class="slide level2">

<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>ctrl/cmd + shift + f</strong></p>
</div>
<div class="callout-content">
<p>This command allow you to search all the R code in a specific folder. Since all our R code is in the same place, we can search the “archive” of our previous work. It come really handy when we need to remember how to use a particular code. You can either search anything (function, comment, etc.).</p>
<p>When you search for a particular keyword, it will show you all the time you used it and will indicate you in wich folder and which line. You can also click on the result and RStudio will open the select file in the right line (really powerful).</p>
<p><strong>See an example in the next slide</strong></p>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="pictures/rtudio_search.png" class="r-stretch quarto-figure-center"><p class="caption">All the time I used the keyword “ggplot” in my code</p></section>
<section class="slide level2">

<p><strong>Exercices: Try it! (3 min)</strong></p>
</section>
<section id="setup-rstudio-to-match-your-image" class="slide level2">
<h2>Setup RStudio to match your image</h2>
<p><strong>You will spend a good amout of time in RStudio, makes it all the more enjoyable!</strong></p>
<p><strong>Ressources:</strong></p>
<ul>
<li><p><a href="https://docs.posit.co/ide/user/ide/get-started/">RStudio user Guide</a></p></li>
<li><p><a href="https://docs.posit.co/ide/user/ide/guide/ui/ui-panes.html">Pane Layout</a></p></li>
<li><p><a href="https://docs.posit.co/ide/user/ide/guide/ui/appearance.html">Themes</a></p></li>
<li><p><a href="https://docs.posit.co/ide/user/ide/guide/ui/command-palette.html">Commande palette</a></p></li>
</ul>
</section>
<section id="the-options" class="slide level2">
<h2>The options</h2>
<p><strong>Follow the guide!!</strong></p>
</section>
<section id="workspace" class="slide level2">
<h2>Workspace</h2>

<img data-src="pictures/workspace.png" class="r-stretch quarto-figure-center"><p class="caption">Remove the autoloading</p></section>
<section class="slide level2">

<h3 id="why">Why?</h3>
<p><span style="color: red;"><strong>Reproducibility!!!</strong></span></p>
<ul>
<li>Force you to rerun your code in the right order</li>
</ul>
<blockquote>
<p>Long-term <span style="color: red;"><strong>reproducibility</strong></span> is enhanced when you turn this feature off and clear R’s memory at every restart. Starting with a blank slate provides timely feedback that encourages the development of scripts that are <span style="color: blue;"><strong>complete and self-contained</strong></span>. <em>Posit</em></p>
</blockquote>
</section>
<section id="display" class="slide level2">
<h2>Display</h2>

<img data-src="pictures/code_display.png" class="r-stretch quarto-figure-center"><p class="caption">Code Display</p></section>
<section class="slide level2">

<h3 id="why-1">Why?</h3>
<p><strong>It make the whole work smoother and colorful</strong></p>

<img data-src="pictures/display_art.png" class="r-stretch quarto-figure-center"><p class="caption">At this point it is trully art</p></section>
<section id="themes" class="slide level2">
<h2>Themes</h2>

<img data-src="pictures/rstudio_theme.png" class="r-stretch quarto-figure-center"><p class="caption">Rstudio themes</p></section>
<section class="slide level2">

<h3 id="why-2">Why?</h3>

<img data-src="pictures/dracula_theme.png" class="r-stretch quarto-figure-center"><p class="caption"><strong>Why not? It is pretty and I like that!</strong></p></section>
<section id="themes-that-might-interest-you" class="slide level2">
<h2>Themes that might interest you</h2>
<p><a href="https://github.com/gadenbuie/rsthemes">Rsthemes</a></p>
<p><a href="https://draculatheme.com/rstudio">Dracula RSthemes (my favorite)</a></p>
<p><a href="https://github.com/topics/rstheme">GitHub rsthemes</a></p>
<p><a href="https://github.com/mkearney/rstudiothemes">Other RStudio themes</a></p>
</section></section>
<section>
<section id="your-project-from-a-to-z" class="title-slide slide level1 center">
<h1>(3) Your project from A to Z</h1>

</section>
<section id="setup-the-project-1" class="slide level2">
<h2>Setup the project (1)</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>RStudio project</strong></p>
</div>
<div class="callout-content">
<p>RStudio projects (.Rproj) are file that tell R where to works. They also allow to set options and behaviour that R specific to the project.</p>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>renv</strong></p>
</div>
<div class="callout-content">
<p>{renv} is a pacakge in are that allow to control the version of your package. What it does is to isolate yourt project from your whole R ecosystem and start as if you didn’t load any packages.</p>
</div>
</div>
</div>
<p><a href="https://docs.posit.co/ide/user/ide/guide/code/projects.html">RStudio project full tutorial</a></p>
</section>
<section id="setup-the-project-2" class="slide level2">
<h2>Setup the project (2)</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="pictures/projects_new.png"></p>
<figcaption>(2) New project</figcaption>
</figure>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:20%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="pictures/project_open.png"></p>
<figcaption>(1) Open project</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="exercises-5-min">Exercises (5 min)</h3>
<ol type="1">
<li>Create new projects and switch back and forth between them</li>
<li>Create a new project, this time activate the <code>renv</code>. In this project try to use a library (for instance {dplyr})</li>
</ol>
</section>
<section class="slide level2">

<h3 id="why-projects-1">Why projects? (1)</h3>
<blockquote>
<p>Expert data scientists <span style="color: blue;"><strong>keep all the files associated with a given project together</strong></span> — input data, scripts, analytical results, and figures. This is such a <span style="color: blue;"><strong>wise and common practice</strong></span> that RStudio has built-in support for this via Projects. RStudio Projects make it straightforward to divide your work into <span style="color: blue;"><strong>multiple contexts, each with their own working directory, workspace, history, and source documents</strong></span>. <em>Posit</em></p>
</blockquote>
</section>
<section class="slide level2">

<h3 id="why-projects-2">Why projects? (2)</h3>
<ol type="1">
<li>Each project has its own environment</li>
<li>Each project has its own options</li>
<li>The working directory is fixed (ban <code>setwd()</code> from your code!)</li>
<li>The work can be shared easily</li>
<li>The project can be stored easily on GitHub</li>
</ol>
</section>
<section class="slide level2">

<h3 id="why-renv">Why {renv}?</h3>
<blockquote>
<p>Sometime <span style="color: blue;"><strong>when package is updated</strong></span>, major changes are applied. Which mean that <span style="color: blue;"><strong>a code that worked fine until now could produce error or breaks</strong></span>. Since we can’t predict how packages will evolve, we can create an <span style="color: blue;"><strong>environment that is frozen in time</strong></span>. {renv} create this <span style="color: blue;"><strong>isolated context</strong></span> from other package so that package inside it have their own version. Which also mean that we have to <span style="color: blue;"><strong>reinstall all the packages</strong></span>.</p>
</blockquote>
</section>
<section class="slide level2">

<h3 id="use-renv">Use {renv}</h3>
<p><a href="https://docs.posit.co/ide/user/ide/guide/environments/r/renv.html">Renv tutorial</a></p>
<p>If the project wasn’t started with renv the first time</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>renv<span class="sc">::</span><span class="fu">init</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Update from time to time to keep track of the packages</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Download a specific package version of a package</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">require</span>(devtools)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">install_version</span>(<span class="st">"ggplot2"</span>, <span class="at">version =</span> <span class="st">"0.9.1"</span>, <span class="at">repos =</span> <span class="st">"http://cran.us.r-project.org"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

<h3 id="setup-working-directory">Setup working directory</h3>

<img data-src="pictures/folder_organization.png" class="r-stretch quarto-figure-center"><p class="caption">One way to do that</p></section>
<section id="organisation" class="slide level2">
<h2>Organisation</h2>
<ul>
<li><code>Data</code>: Raw data</li>
<li><code>MyData</code>: Cleaned data</li>
<li><code>Report</code>: Report/presentation created with a notebook</li>
<li><code>Result</code>: Folder for tables and figures</li>
<li><code>Scripts</code>: Where the code is</li>
</ul>
</section>
<section class="slide level2">

<h3 id="exercices-2-min">Exercices (2 min)</h3>
<ol type="1">
<li>Populate your working directory with the folders needed</li>
<li>Add the following dataset to the right folder:
<ul>
<li><a href="https://www.worldvaluessurvey.org/WVSDocumentationWV7.jsp">Word Value Survey</a> (Please take Andorra 2018)</li>
<li>Download the <strong>stata</strong> file</li>
</ul></li>
</ol>
</section>
<section id="first-script" class="slide level2">
<h2>First script</h2>
<p><a href="https://docs.posit.co/ide/user/ide/guide/code/execution.html">Run code on RStudio</a> and <a href="https://docs.posit.co/ide/user/ide/guide/productivity/text-editor.html#multiple-cursors">Tutorial RStudio Text Editor</a></p>

<img data-src="pictures/re_run_source.png" class="r-stretch quarto-figure-center"><p class="caption">Let’s get started!</p></section>
<section class="slide level2">

<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Objectif for a clean code</strong></p>
</div>
<div class="callout-content">
<p><span style="color: red;"><strong>(1) Files can be run entirely in one go</strong></span> <code>(ctrl/cmd + alt + r)</code></p>
<ul>
<li>Code in the <strong>right order</strong> (no error)</li>
<li>No command that are <strong>useless for the computer</strong> or <strong>change the state of the computer</strong> (ex. <code>setwd()</code>, <code>install.packages()</code>, <code>View()</code>)</li>
</ul>
<p><span style="color: red;"><strong>(2) Files should be self-contained</strong></span></p>
<ul>
<li>All the needed <strong>packages</strong>, <strong>functions</strong> and <strong>data</strong> should be loaded in <strong>the specific file</strong></li>
<li>The code is <strong>self-explanatory</strong>, <strong>well commented</strong> and <strong>structured</strong></li>
</ul>
<p><span style="color: red;"><strong>(3) Files should be named, organized and used with a specific purpose</strong></span></p>
<ul>
<li><strong>Order</strong> and <strong>purpose</strong> in the file’s name (ex. “1. Cleaning.R”)</li>
</ul>
</div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="exercices-1-min">Exercices (1 min)</h3>
<p>Create the file “<code>1_cleaning.R</code>” in your “<code>Script</code>” folder equivalent and open it.</p>
<blockquote>
<p>You could also name it “<code>01_the_data_cleaning_file.R</code>”. The name you choose doesn’t matter as long as it is <strong>ordered</strong> and <strong>self-explanatory</strong>.</p>
</blockquote>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><a href="https://style.tidyverse.org/index.html">Tidyverse style guide</a>: Files</strong></p>
</div>
<div class="callout-content">
<p>Note that we don’t use <strong>spaces</strong> or <strong>special characters</strong> to follow the <a href="https://style.tidyverse.org/files.html">tidyverse style guide for files</a>.</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="variable-names">Variable names</h3>
<ul>
<li><p>Should follow a convention: <code>snake_case</code> , <code>CamelCase</code> , etc.</p></li>
<li><p>No spaces and no special character</p></li>
<li><p>Clear but not too long</p></li>
</ul>
<h3 id="spacing">Spacing</h3>
<ul>
<li><p>Between expression (readability)</p></li>
<li><p>Make line breaks as frequent as possible</p></li>
</ul>
</section>
<section class="slide level2">

<h3 id="comments">Comments</h3>

<img data-src="pictures/good_comment.PNG" class="r-stretch quarto-figure-center"><p class="caption">Comment example</p><p>Good comments only explain the <span style="color: red;">overall goal</span>, not each specific line or step.</p>
</section>
<section class="slide level2">

<h3 id="sections">Sections</h3>

<img data-src="pictures/rescale_function_collapse.png" class="r-stretch"><p><a href="https://docs.posit.co/ide/user/ide/guide/code/code-sections.html">Code section</a></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Section One ---------------------------------</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co"># Section One ----</span></span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co"># Section Two =================================</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co"># Section Two ====</span></span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="do">### Section Three ############################# </span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="do">### Section Three ####</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

<h3 id="how-i-organize">How I organize</h3>

<img data-src="pictures/my_section.png" class="r-stretch"><p>Sometimes I replace “Analysis” by “Work”</p>
</section>
<section class="slide level2">

<h3 id="the-sections-in-application">The sections in application</h3>

<img data-src="pictures/code_example.png" class="r-stretch"></section>
<section class="slide level2">

<h3 id="sections-are-useful-because-you-can">Sections are useful because you can:</h3>
<ol type="1">
<li>Navigate through your code</li>
<li>Fold your code (also possible for functions and statements)</li>
<li>Structure your code (different levels)</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Chapter ----</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="do">## Sub-chapter ----</span></span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="do">### Sub-Sub-Chapter ----</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="section-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="first-code">First code</h3>
<p><strong>Step 1 - set the libraries needed</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb7-1" class="hljs-ln-code"><a href="#cb7-1"></a><span class="co"># Libraries ----</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Packages should only be loaded once at the begining of the code</strong></p>
</div>
<div class="callout-content">

</div>
</div>
</div>
</section>
<section id="section-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="step-1---set-the-libraries-needed">Step 1 - set the libraries needed</h3>
<p><strong>Option (1)</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb8-1" class="hljs-ln-code"><a href="#cb8-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb8-2" class="hljs-ln-code"><a href="#cb8-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb8-3" class="hljs-ln-code"><a href="#cb8-3"></a><span class="fu">library</span>(rio) <span class="co"># Should be installed before</span></span>
<span id="cb8-4" class="hljs-ln-code"><a href="#cb8-4"></a><span class="fu">library</span>(janitor) <span class="co"># Should be installed before</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Multiple cursors</strong></p>
</div>
<div class="callout-content">
<p><code>Ctrl + Alt/Option + {Up/Down}</code></p>
<p><code>Ctrl + Alt/Option + Shift + {Direction}</code></p>
<p><code>Ctrl + Alt/Option + Shift + {Mouse}</code></p>
</div>
</div>
</div>
</section>
<section id="section-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="step-1---set-the-libraries-needed-1">Step 1 - set the libraries needed</h3>
<p><strong>Option (2)</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb9-1" class="hljs-ln-code"><a href="#cb9-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb9-2" class="hljs-ln-code"><a href="#cb9-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, janitor) <span class="co"># Should be installed before</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><a href="https://github.com/trinker/pacman">{pacman}</a></strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>It loads the package with <code>library()</code></p></li>
<li><p>If it doesn’t find it, it installs it with <code>install.packages()</code></p></li>
<li><p>It updates packages only if specified</p></li>
</ul>
</div>
</div>
</div>
<p><span style="color: green;"><em>Select the option that you like the most!</em></span></p>
</section>
<section class="slide level2">

<h3 id="importing-data-the-formatpackage-issue">Importing data: the format/package issue</h3>
<p><strong>To much packages/functions</strong></p>
<p>Bellow a few examples</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># R</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">load</span>(<span class="st">"data.rda"</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a>data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data.rds"</span>)</span>
<span id="cb10-4"><a href="#cb10-4"></a></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co"># csv</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data.csv"</span>)</span>
<span id="cb10-7"><a href="#cb10-7"></a>data <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"data.csv"</span>)</span>
<span id="cb10-8"><a href="#cb10-8"></a></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="co"># Excel</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>data <span class="ot">&lt;-</span> xlsx<span class="sc">::</span><span class="fu">read.xlsx</span>(<span class="st">"data.xlsx"</span>)</span>
<span id="cb10-11"><a href="#cb10-11"></a>data <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"data.xlsx"</span>)</span>
<span id="cb10-12"><a href="#cb10-12"></a></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co"># SPSS/Stata/SAS</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>data <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_spss</span>(<span class="st">"data.sav"</span>)</span>
<span id="cb10-15"><a href="#cb10-15"></a>data <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_stata</span>(<span class="st">"data.dta"</span>)</span>
<span id="cb10-16"><a href="#cb10-16"></a><span class="co"># etc.</span></span>
<span id="cb10-17"><a href="#cb10-17"></a></span>
<span id="cb10-18"><a href="#cb10-18"></a><span class="co"># Arrow</span></span>
<span id="cb10-19"><a href="#cb10-19"></a>data <span class="ot">&lt;-</span> arrow<span class="sc">::</span><span class="fu">open_dataset</span>(<span class="st">"data.parquet"</span>)</span>
<span id="cb10-20"><a href="#cb10-20"></a><span class="co"># etc.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

<h3 id="a-wonderful-package">A wonderful package</h3>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><a href="https://github.com/chainsawriot/rio">{rio}</a></strong></p>
</div>
<div class="callout-content">
<p>With {rio} you only need two functions:</p>
<p><code>import()</code> and <code>export()</code></p>
<p><strong>It works for all of the common data format</strong>: <em>rdata, rda, rds, csv, tsv, sas7bdat, sav, dta, xlsx, parquet, feather, json and many more!</em></p>
</div>
</div>
</div>
<p>It reduce the number of packages/functions to memorize and load.</p>
</section>
<section id="section-7" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="step-2---load-the-data">Step 2 - load the data</h3>
<div class="sourceCode" id="cb11" data-code-line-numbers="1-2|4|4-7"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb11-1" class="hljs-ln-code"><a href="#cb11-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb11-2" class="hljs-ln-code"><a href="#cb11-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, janitor) <span class="co"># Should be installed before</span></span>
<span id="cb11-3" class="hljs-ln-code"><a href="#cb11-3"></a></span>
<span id="cb11-4" class="hljs-ln-code"><a href="#cb11-4"></a><span class="co"># Data ----</span></span>
<span id="cb11-5" class="hljs-ln-code"><a href="#cb11-5"></a>andorra_raw <span class="ot">&lt;-</span></span>
<span id="cb11-6" class="hljs-ln-code"><a href="#cb11-6"></a>  <span class="fu">import</span>(<span class="st">"Data/WVS_Wave_7_Andorra_Stata_v5.0.dta"</span>,</span>
<span id="cb11-7" class="hljs-ln-code"><a href="#cb11-7"></a>         <span class="at">setclass =</span> <span class="st">"tbl_df"</span>) <span class="co"># {rio}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><a href="https://docs.posit.co/ide/user/ide/guide/productivity/text-editor.html#code-completion">Code completion</a></strong></p>
</div>
<div class="callout-content">
<p>RStudio propose you sometimes options based on what you already typed. Use the arrow keys or your mouse to choose one of the option and press either <code>Enter</code> or <code>Tab</code> to accept one.</p>
<p><strong>For file path:</strong> <strong>If you are in a middle of a pair of double quote, press <code>Tab</code> and it will show you all the available folders and files in the working directory. You can navigate using the arrow key or your mouse, go inside folders using <code>Tab</code> and select using <code>Enter</code>.</strong></p>
</div>
</div>
</div>
</section>
<section id="section-8" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="step-3---clean-the-data">Step 3 - Clean the data</h3>
<div class="sourceCode" id="cb12" data-code-line-numbers="9-10"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb12-1" class="hljs-ln-code"><a href="#cb12-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb12-2" class="hljs-ln-code"><a href="#cb12-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, janitor) <span class="co"># Should be installed before</span></span>
<span id="cb12-3" class="hljs-ln-code"><a href="#cb12-3"></a></span>
<span id="cb12-4" class="hljs-ln-code"><a href="#cb12-4"></a><span class="co"># Data ----</span></span>
<span id="cb12-5" class="hljs-ln-code"><a href="#cb12-5"></a>andorra_raw <span class="ot">&lt;-</span></span>
<span id="cb12-6" class="hljs-ln-code"><a href="#cb12-6"></a>  <span class="fu">import</span>(<span class="st">"Data/WVS_Wave_7_Andorra_Stata_v5.0.dta"</span>,</span>
<span id="cb12-7" class="hljs-ln-code"><a href="#cb12-7"></a>         <span class="at">setclass =</span> <span class="st">"tbl_df"</span>) <span class="co"># {rio}</span></span>
<span id="cb12-8" class="hljs-ln-code"><a href="#cb12-8"></a></span>
<span id="cb12-9" class="hljs-ln-code"><a href="#cb12-9"></a>andorra_raw <span class="sc">%&gt;%</span> </span>
<span id="cb12-10" class="hljs-ln-code"><a href="#cb12-10"></a>  <span class="fu">clean_names</span>() <span class="co"># {janitor} standardize column names</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><a href="https://sfirke.github.io/janitor/">{janitor}</a></strong></p>
</div>
<div class="callout-content">
<p>The function <a href="https://sfirke.github.io/janitor/reference/clean_names.html"><code>clean_names()</code></a> from {janitor} clean the dataframe name by:</p>
<ul>
<li>Removing special characters</li>
<li>Lowering cases</li>
<li>Replacing spaces by “<code>_</code>” and “<code>%</code>” by “<code>_percent_</code>” and “<code>#</code>” by “<code>_number_</code>”</li>
</ul>
</div>
</div>
</div>
</section>
<section id="section-9" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="step-3---clean-the-data-1">Step 3 - Clean the data</h3>
<div class="sourceCode" id="cb13" data-code-line-numbers="11-12|13|14|15"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb13-1" class="hljs-ln-code"><a href="#cb13-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb13-2" class="hljs-ln-code"><a href="#cb13-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, janitor) <span class="co"># Should be installed before</span></span>
<span id="cb13-3" class="hljs-ln-code"><a href="#cb13-3"></a></span>
<span id="cb13-4" class="hljs-ln-code"><a href="#cb13-4"></a><span class="co"># Data ----</span></span>
<span id="cb13-5" class="hljs-ln-code"><a href="#cb13-5"></a>andorra_raw <span class="ot">&lt;-</span></span>
<span id="cb13-6" class="hljs-ln-code"><a href="#cb13-6"></a>  <span class="fu">import</span>(<span class="st">"Data/WVS_Wave_7_Andorra_Stata_v5.0.dta"</span>,</span>
<span id="cb13-7" class="hljs-ln-code"><a href="#cb13-7"></a>         <span class="at">setclass =</span> <span class="st">"tbl_df"</span>) <span class="co"># {rio}</span></span>
<span id="cb13-8" class="hljs-ln-code"><a href="#cb13-8"></a></span>
<span id="cb13-9" class="hljs-ln-code"><a href="#cb13-9"></a>andorra_raw <span class="sc">%&gt;%</span> </span>
<span id="cb13-10" class="hljs-ln-code"><a href="#cb13-10"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span>  <span class="co"># {janitor} standardize column names</span></span>
<span id="cb13-11" class="hljs-ln-code"><a href="#cb13-11"></a>  <span class="fu">select</span>(<span class="at">sex =</span> q260, <span class="co"># Select and rename</span></span>
<span id="cb13-12" class="hljs-ln-code"><a href="#cb13-12"></a>         <span class="at">age =</span> q262, <span class="co"># Select and rename</span></span>
<span id="cb13-13" class="hljs-ln-code"><a href="#cb13-13"></a>         <span class="at">emancipative =</span> resemaval, <span class="co"># Select and rename</span></span>
<span id="cb13-14" class="hljs-ln-code"><a href="#cb13-14"></a>         <span class="fu">starts_with</span>(<span class="st">"h_"</span>), <span class="co"># Select all variables that starts with "h_"</span></span>
<span id="cb13-15" class="hljs-ln-code"><a href="#cb13-15"></a>         q1<span class="sc">:</span>q6) <span class="co"># Select from variable q1 to q6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To go deeper check the following link: <a href="https://dplyr.tidyverse.org/reference/select.html">Tidy-Select</a></p>
</section>
<section id="section-10" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="step-3---clean-the-data-2">Step 3 - Clean the data</h3>
<div class="sourceCode" id="cb14" data-code-line-numbers="16|17|18-22|23-25|26-30"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb14-1" class="hljs-ln-code"><a href="#cb14-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb14-2" class="hljs-ln-code"><a href="#cb14-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, janitor) <span class="co"># Should be installed before</span></span>
<span id="cb14-3" class="hljs-ln-code"><a href="#cb14-3"></a></span>
<span id="cb14-4" class="hljs-ln-code"><a href="#cb14-4"></a><span class="co"># Data ----</span></span>
<span id="cb14-5" class="hljs-ln-code"><a href="#cb14-5"></a>andorra_raw <span class="ot">&lt;-</span></span>
<span id="cb14-6" class="hljs-ln-code"><a href="#cb14-6"></a>  <span class="fu">import</span>(<span class="st">"Data/WVS_Wave_7_Andorra_Stata_v5.0.dta"</span>,</span>
<span id="cb14-7" class="hljs-ln-code"><a href="#cb14-7"></a>         <span class="at">setclass =</span> <span class="st">"tbl_df"</span>) <span class="co"># {rio}</span></span>
<span id="cb14-8" class="hljs-ln-code"><a href="#cb14-8"></a></span>
<span id="cb14-9" class="hljs-ln-code"><a href="#cb14-9"></a>andorra_raw <span class="sc">%&gt;%</span></span>
<span id="cb14-10" class="hljs-ln-code"><a href="#cb14-10"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span>  <span class="co"># {janitor} standardize column names</span></span>
<span id="cb14-11" class="hljs-ln-code"><a href="#cb14-11"></a>  <span class="fu">select</span>(<span class="at">sex =</span> q260, <span class="co"># Select and rename</span></span>
<span id="cb14-12" class="hljs-ln-code"><a href="#cb14-12"></a>         <span class="at">age =</span> q262, <span class="co"># Select and rename</span></span>
<span id="cb14-13" class="hljs-ln-code"><a href="#cb14-13"></a>         <span class="at">emancipative =</span> resemaval, <span class="co"># Select and rename</span></span>
<span id="cb14-14" class="hljs-ln-code"><a href="#cb14-14"></a>         <span class="fu">starts_with</span>(<span class="st">"h_"</span>), <span class="co"># Select all variables that starts with "h_"</span></span>
<span id="cb14-15" class="hljs-ln-code"><a href="#cb14-15"></a>         q1<span class="sc">:</span>q6) <span class="sc">%&gt;%</span>  <span class="co"># Select from variable q1 to q6</span></span>
<span id="cb14-16" class="hljs-ln-code"><a href="#cb14-16"></a>  <span class="fu">filter_all</span>(<span class="fu">all_vars</span>(. <span class="sc">&gt;=</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span> <span class="co"># Remove missing values</span></span>
<span id="cb14-17" class="hljs-ln-code"><a href="#cb14-17"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)), <span class="co"># Labels</span></span>
<span id="cb14-18" class="hljs-ln-code"><a href="#cb14-18"></a>         <span class="at">h_settlement =</span> <span class="fu">factor</span>(h_settlement, <span class="co"># Labels</span></span>
<span id="cb14-19" class="hljs-ln-code"><a href="#cb14-19"></a>                               <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Capital city"</span>,</span>
<span id="cb14-20" class="hljs-ln-code"><a href="#cb14-20"></a>                                          <span class="st">"Regional center"</span>,</span>
<span id="cb14-21" class="hljs-ln-code"><a href="#cb14-21"></a>                                          <span class="st">"Another city"</span>,</span>
<span id="cb14-22" class="hljs-ln-code"><a href="#cb14-22"></a>                                          <span class="st">"Village"</span>)),</span>
<span id="cb14-23" class="hljs-ln-code"><a href="#cb14-23"></a>         <span class="at">h_urbrural =</span> <span class="fu">factor</span>(h_urbrural, <span class="co"># Labels</span></span>
<span id="cb14-24" class="hljs-ln-code"><a href="#cb14-24"></a>                             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Urban"</span>,</span>
<span id="cb14-25" class="hljs-ln-code"><a href="#cb14-25"></a>                                        <span class="st">"Rural"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb14-26" class="hljs-ln-code"><a href="#cb14-26"></a>  <span class="fu">mutate_at</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">11</span>, <span class="sc">~</span><span class="fu">factor</span>(.x,</span>
<span id="cb14-27" class="hljs-ln-code"><a href="#cb14-27"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Very important"</span>,</span>
<span id="cb14-28" class="hljs-ln-code"><a href="#cb14-28"></a>                                      <span class="st">"Rather important"</span>,</span>
<span id="cb14-29" class="hljs-ln-code"><a href="#cb14-29"></a>                                      <span class="st">"Not very important"</span>,</span>
<span id="cb14-30" class="hljs-ln-code"><a href="#cb14-30"></a>                                      <span class="st">"Not at all important"</span>)))</span>
<span id="cb14-31" class="hljs-ln-code"><a href="#cb14-31"></a>                                        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="section-11" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="step-3---clean-the-data-3">Step 3 - Clean the data</h3>
<div class="sourceCode" id="cb15" data-code-line-numbers="9-10"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb15-1" class="hljs-ln-code"><a href="#cb15-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb15-2" class="hljs-ln-code"><a href="#cb15-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, janitor) <span class="co"># Should be installed before</span></span>
<span id="cb15-3" class="hljs-ln-code"><a href="#cb15-3"></a></span>
<span id="cb15-4" class="hljs-ln-code"><a href="#cb15-4"></a><span class="co"># Data ----</span></span>
<span id="cb15-5" class="hljs-ln-code"><a href="#cb15-5"></a>andorra_raw <span class="ot">&lt;-</span></span>
<span id="cb15-6" class="hljs-ln-code"><a href="#cb15-6"></a>  <span class="fu">import</span>(<span class="st">"Data/WVS_Wave_7_Andorra_Stata_v5.0.dta"</span>,</span>
<span id="cb15-7" class="hljs-ln-code"><a href="#cb15-7"></a>         <span class="at">setclass =</span> <span class="st">"tbl_df"</span>) <span class="co"># {rio}</span></span>
<span id="cb15-8" class="hljs-ln-code"><a href="#cb15-8"></a>         </span>
<span id="cb15-9" class="hljs-ln-code"><a href="#cb15-9"></a>andorra_clean <span class="ot">&lt;-</span> <span class="co"># Save the whole process here</span></span>
<span id="cb15-10" class="hljs-ln-code"><a href="#cb15-10"></a>  andorra_raw <span class="sc">%&gt;%</span></span>
<span id="cb15-11" class="hljs-ln-code"><a href="#cb15-11"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span>  <span class="co"># {janitor} standardize column names</span></span>
<span id="cb15-12" class="hljs-ln-code"><a href="#cb15-12"></a>  <span class="fu">select</span>(<span class="at">sex =</span> q260, <span class="co"># Select and rename</span></span>
<span id="cb15-13" class="hljs-ln-code"><a href="#cb15-13"></a>         <span class="at">age =</span> q262, <span class="co"># Select and rename</span></span>
<span id="cb15-14" class="hljs-ln-code"><a href="#cb15-14"></a>         <span class="at">emancipative =</span> resemaval, <span class="co"># Select and rename</span></span>
<span id="cb15-15" class="hljs-ln-code"><a href="#cb15-15"></a>         <span class="fu">starts_with</span>(<span class="st">"h_"</span>), <span class="co"># Select all variables that starts with "h_"</span></span>
<span id="cb15-16" class="hljs-ln-code"><a href="#cb15-16"></a>         q1<span class="sc">:</span>q6) <span class="sc">%&gt;%</span>  <span class="co"># Select from variable q1 to q6</span></span>
<span id="cb15-17" class="hljs-ln-code"><a href="#cb15-17"></a>  <span class="fu">filter_all</span>(<span class="fu">all_vars</span>(. <span class="sc">&gt;=</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span> <span class="co"># Remove missing values</span></span>
<span id="cb15-18" class="hljs-ln-code"><a href="#cb15-18"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)), <span class="co"># Labels</span></span>
<span id="cb15-19" class="hljs-ln-code"><a href="#cb15-19"></a>         <span class="at">h_settlement =</span> <span class="fu">factor</span>(h_settlement, <span class="co"># Labels</span></span>
<span id="cb15-20" class="hljs-ln-code"><a href="#cb15-20"></a>                               <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Capital city"</span>,</span>
<span id="cb15-21" class="hljs-ln-code"><a href="#cb15-21"></a>                                          <span class="st">"Regional center"</span>,</span>
<span id="cb15-22" class="hljs-ln-code"><a href="#cb15-22"></a>                                          <span class="st">"Another city"</span>,</span>
<span id="cb15-23" class="hljs-ln-code"><a href="#cb15-23"></a>                                          <span class="st">"Village"</span>)),</span>
<span id="cb15-24" class="hljs-ln-code"><a href="#cb15-24"></a>         <span class="at">h_urbrural =</span> <span class="fu">factor</span>(h_urbrural, <span class="co"># Labels</span></span>
<span id="cb15-25" class="hljs-ln-code"><a href="#cb15-25"></a>                             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Urban"</span>,</span>
<span id="cb15-26" class="hljs-ln-code"><a href="#cb15-26"></a>                                        <span class="st">"Rural"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb15-27" class="hljs-ln-code"><a href="#cb15-27"></a>  <span class="fu">mutate_at</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">11</span>, <span class="sc">~</span><span class="fu">factor</span>(.x,</span>
<span id="cb15-28" class="hljs-ln-code"><a href="#cb15-28"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Very important"</span>,</span>
<span id="cb15-29" class="hljs-ln-code"><a href="#cb15-29"></a>                                      <span class="st">"Rather important"</span>,</span>
<span id="cb15-30" class="hljs-ln-code"><a href="#cb15-30"></a>                                      <span class="st">"Not very important"</span>,</span>
<span id="cb15-31" class="hljs-ln-code"><a href="#cb15-31"></a>                                      <span class="st">"Not at all important"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="section-12" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"></h2>
<h3 id="save-the-data">Save the data</h3>
<div class="sourceCode" id="cb16" data-code-line-numbers="33-34"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb16-1" class="hljs-ln-code"><a href="#cb16-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb16-2" class="hljs-ln-code"><a href="#cb16-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, janitor) <span class="co"># Should be installed before</span></span>
<span id="cb16-3" class="hljs-ln-code"><a href="#cb16-3"></a></span>
<span id="cb16-4" class="hljs-ln-code"><a href="#cb16-4"></a><span class="co"># Data ----</span></span>
<span id="cb16-5" class="hljs-ln-code"><a href="#cb16-5"></a>andorra_raw <span class="ot">&lt;-</span></span>
<span id="cb16-6" class="hljs-ln-code"><a href="#cb16-6"></a>  <span class="fu">import</span>(<span class="st">"Data/WVS_Wave_7_Andorra_Stata_v5.0.dta"</span>,</span>
<span id="cb16-7" class="hljs-ln-code"><a href="#cb16-7"></a>         <span class="at">setclass =</span> <span class="st">"tbl_df"</span>) <span class="co"># {rio}</span></span>
<span id="cb16-8" class="hljs-ln-code"><a href="#cb16-8"></a>         </span>
<span id="cb16-9" class="hljs-ln-code"><a href="#cb16-9"></a>andorra_clean <span class="ot">&lt;-</span> <span class="co"># Save the whole process here</span></span>
<span id="cb16-10" class="hljs-ln-code"><a href="#cb16-10"></a>  andorra_raw <span class="sc">%&gt;%</span></span>
<span id="cb16-11" class="hljs-ln-code"><a href="#cb16-11"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span>  <span class="co"># {janitor} standardize column names</span></span>
<span id="cb16-12" class="hljs-ln-code"><a href="#cb16-12"></a>  <span class="fu">select</span>(<span class="at">sex =</span> q260, <span class="co"># Select and rename</span></span>
<span id="cb16-13" class="hljs-ln-code"><a href="#cb16-13"></a>         <span class="at">age =</span> q262, <span class="co"># Select and rename</span></span>
<span id="cb16-14" class="hljs-ln-code"><a href="#cb16-14"></a>         <span class="at">emancipative =</span> resemaval, <span class="co"># Select and rename</span></span>
<span id="cb16-15" class="hljs-ln-code"><a href="#cb16-15"></a>         <span class="fu">starts_with</span>(<span class="st">"h_"</span>), <span class="co"># Select all variables that starts with "h_"</span></span>
<span id="cb16-16" class="hljs-ln-code"><a href="#cb16-16"></a>         q1<span class="sc">:</span>q6) <span class="sc">%&gt;%</span>  <span class="co"># Select from variable q1 to q6</span></span>
<span id="cb16-17" class="hljs-ln-code"><a href="#cb16-17"></a>  <span class="fu">filter_all</span>(<span class="fu">all_vars</span>(. <span class="sc">&gt;=</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span> <span class="co"># Remove missing values</span></span>
<span id="cb16-18" class="hljs-ln-code"><a href="#cb16-18"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">factor</span>(sex, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)), <span class="co"># Labels</span></span>
<span id="cb16-19" class="hljs-ln-code"><a href="#cb16-19"></a>         <span class="at">h_settlement =</span> <span class="fu">factor</span>(h_settlement, <span class="co"># Labels</span></span>
<span id="cb16-20" class="hljs-ln-code"><a href="#cb16-20"></a>                               <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Capital city"</span>,</span>
<span id="cb16-21" class="hljs-ln-code"><a href="#cb16-21"></a>                                          <span class="st">"Regional center"</span>,</span>
<span id="cb16-22" class="hljs-ln-code"><a href="#cb16-22"></a>                                          <span class="st">"Another city"</span>,</span>
<span id="cb16-23" class="hljs-ln-code"><a href="#cb16-23"></a>                                          <span class="st">"Village"</span>)),</span>
<span id="cb16-24" class="hljs-ln-code"><a href="#cb16-24"></a>         <span class="at">h_urbrural =</span> <span class="fu">factor</span>(h_urbrural, <span class="co"># Labels</span></span>
<span id="cb16-25" class="hljs-ln-code"><a href="#cb16-25"></a>                             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Urban"</span>,</span>
<span id="cb16-26" class="hljs-ln-code"><a href="#cb16-26"></a>                                        <span class="st">"Rural"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb16-27" class="hljs-ln-code"><a href="#cb16-27"></a>  <span class="fu">mutate_at</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">11</span>, <span class="sc">~</span><span class="fu">factor</span>(.x,</span>
<span id="cb16-28" class="hljs-ln-code"><a href="#cb16-28"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Very important"</span>,</span>
<span id="cb16-29" class="hljs-ln-code"><a href="#cb16-29"></a>                                      <span class="st">"Rather important"</span>,</span>
<span id="cb16-30" class="hljs-ln-code"><a href="#cb16-30"></a>                                      <span class="st">"Not very important"</span>,</span>
<span id="cb16-31" class="hljs-ln-code"><a href="#cb16-31"></a>                                      <span class="st">"Not at all important"</span>)))</span>
<span id="cb16-32" class="hljs-ln-code"><a href="#cb16-32"></a>                                        </span>
<span id="cb16-33" class="hljs-ln-code"><a href="#cb16-33"></a><span class="co"># Saving ----</span></span>
<span id="cb16-34" class="hljs-ln-code"><a href="#cb16-34"></a><span class="fu">export</span>(andorra_clean, <span class="at">file =</span> <span class="st">"MyData/andorra_clean.rds"</span>) <span class="co"># {rio}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><a href="https://riptutorial.com/r/example/3650/rds-and-rdata--rda--files">Rds and Rda files</a></p>
</section>
<section class="slide level2">

<h3 id="alternative-shorter">Alternative (shorter)</h3>
<div class="sourceCode" id="cb17" data-code-line-numbers="5-6,17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, janitor) <span class="co"># Should be installed before</span></span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co"># Data ----</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>andorra_raw <span class="ot">&lt;-</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>  haven<span class="sc">::</span><span class="fu">read_dta</span>(<span class="st">"Data/WVS_Wave_7_Andorra_Stata_v5.0.dta"</span>) <span class="co"># {haven}</span></span>
<span id="cb17-7"><a href="#cb17-7"></a></span>
<span id="cb17-8"><a href="#cb17-8"></a>andorra_clean <span class="ot">&lt;-</span> <span class="co"># Save the whole process here</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>  andorra_raw <span class="sc">%&gt;%</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span>  <span class="co"># {janitor} standardize column names</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="fu">select</span>(<span class="at">sex =</span> q260, <span class="co"># Select and rename</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>         <span class="at">age =</span> q262, <span class="co"># Select and rename</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>         <span class="at">emancipative =</span> resemaval, <span class="co"># Select and rename</span></span>
<span id="cb17-14"><a href="#cb17-14"></a>         <span class="fu">starts_with</span>(<span class="st">"h_"</span>), <span class="co"># Select all variables that starts with "h_"</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>         q1<span class="sc">:</span>q6) <span class="sc">%&gt;%</span>  <span class="co"># Select from variable q1 to q6</span></span>
<span id="cb17-16"><a href="#cb17-16"></a>  <span class="fu">filter_all</span>(<span class="fu">all_vars</span>(. <span class="sc">&gt;=</span> <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-17"><a href="#cb17-17"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span><span class="sc">:</span><span class="dv">11</span>), haven<span class="sc">::</span>as_factor) <span class="co"># Automatic factor</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>  </span>
<span id="cb17-19"><a href="#cb17-19"></a><span class="co"># Saving ----</span></span>
<span id="cb17-20"><a href="#cb17-20"></a><span class="fu">export</span>(andorra_clean, <span class="at">file =</span> <span class="st">"MyData/andorra_clean.rds"</span>) <span class="co"># {rio}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="smaller">
<p>Easier with <code>haven::as_factor()</code> but we need to import the data with <code>haven::read_dta()</code> because of compatibility problem!</p>
</div>
<div class="footer">

</div>
</section>
<section class="slide level2">

<h3 id="exercises">Exercises</h3>
<ol type="1">
<li>Run the whole file <code>1_cleaning.R</code> with the command <code>ctrl/cmd + alt + r</code> to be sure that everything works fine.</li>
<li>Create the files <code>2_tables.R</code>, <code>3_figures.R</code> and <code>4_models.R</code> and put them in the right folder.</li>
<li>For each file, setup the section to respect our clean code goal (run once, self-contained and organized).
<ul>
<li>No need to load <a href="https://sfirke.github.io/janitor/">{janitor}</a></li>
<li>We need to load <a href="https://www.danieldsjoberg.com/gtsummary/">{gtsummary}</a> (tables)</li>
<li>We need to load <a href="https://strengejacke.github.io/sjPlot/">{sjPlot}</a> (figures/tables/model)</li>
</ul></li>
</ol>
</section>
<section class="slide level2">

<h3 id="answers">Answers</h3>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">2_tables.R</a></li><li><a href="#tabset-1-2">3_figures.R</a></li><li><a href="#tabset-1-3">4_models.R</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, gtsummary)</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co"># Data ----</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>andorra_clean <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"MyData/andorra_clean.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-2">
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio)</span>
<span id="cb19-3"><a href="#cb19-3"></a></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="co"># Data ----</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>andorra_clean <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"MyData/andorra_clean.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-1-3">
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, sjPlot)</span>
<span id="cb20-3"><a href="#cb20-3"></a></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="co"># Data ----</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>andorra_clean <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"MyData/andorra_clean.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><span style="color: red;"><strong>Alway start by loading the packages and data</strong></span><strong>. So that, next time we start the project, we don’t need to open the previous script to load the packages and the data since every scripts is self-contained.</strong></p>
</section>
<section class="slide level2">

<h3 id="packages-for-creating-tables">Packages for creating tables</h3>
<ul>
<li><a href="https://www.danieldsjoberg.com/gtsummary/">{gtsummary}</a>
<ul>
<li><a href="https://gt.rstudio.com/">{gt}</a></li>
<li><a href="https://jthomasmock.github.io/gtExtras/">{gtextra}</a></li>
</ul></li>
<li><a href="https://mayoverse.github.io/arsenal/">{arsenal}</a></li>
<li><a href="https://strengejacke.github.io/sjPlot/">{sjPlot}</a></li>
<li><a href="http://haozhu233.github.io/kableExtra/">{kableExtra}</a>
<ul>
<li><a href="https://yihui.org/knitr/">{knitr}</a></li>
</ul></li>
<li><a href="https://davidgohel.github.io/flextable/">{flextable}</a> <strong>… and many more!</strong></li>
</ul>
</section>
<section class="slide level2">

<h3 id="package-for-creating-graphs">Package for creating graphs</h3>
<ul>
<li><a href="https://ggplot2.tidyverse.org/">{ggplot2}</a>
<ul>
<li><a href="https://exts.ggplot2.tidyverse.org/gallery/">All the ggplot2 extensions</a></li>
</ul></li>
<li><a href="https://strengejacke.github.io/sjPlot/">{sjPlot}</a></li>
<li><a href="https://plotly.com/r/">{plotly}</a></li>
<li><a href="https://echarts4r.john-coene.com/">{eachart4r}</a></li>
<li><a href="https://rstudio.github.io/r2d3/">{r2d3}</a> <strong>… and many more!</strong></li>
</ul>
<p>Many references: <a href="https://r-graph-gallery.com/">R graph gallery</a> and <a href="https://d3-graph-gallery.com/">D3.js graph gallery</a></p>
</section>
<section class="slide level2">

<h3 id="packages-for-modelling">Packages for modelling</h3>
<ul>
<li><a href="https://www.tidymodels.org/">{tidymodels}</a></li>
<li><a href="https://easystats.github.io/easystats/">{easystats}</a></li>
<li><a href="https://strengejacke.github.io/sjPlot/">{sjPlot}</a> <strong>… and many more! Again!</strong></li>
</ul>
</section>
<section class="slide level2">

<h3 id="copypaste-each-code-to-its-file">Copy/paste each code to its file</h3>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">2_tables.R</a></li><li><a href="#tabset-2-2">3_figures.R</a></li><li><a href="#tabset-2-3">4_models.R</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, gtsummary)</span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co"># Data ----</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>andorra_clean <span class="ot">&lt;-</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="fu">import</span>(<span class="st">"MyData/andorra_clean.rds"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span><span class="sc">:</span><span class="dv">11</span>), fct_drop)</span>
<span id="cb21-8"><a href="#cb21-8"></a></span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="co"># Work ----</span></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="co"># 1. Summary</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>  <span class="co"># A simple summary table for all the variables</span></span>
<span id="cb21-12"><a href="#cb21-12"></a>summary_table <span class="ot">&lt;-</span> </span>
<span id="cb21-13"><a href="#cb21-13"></a>  andorra_clean <span class="sc">%&gt;%</span> </span>
<span id="cb21-14"><a href="#cb21-14"></a>  <span class="fu">tbl_summary</span>()</span>
<span id="cb21-15"><a href="#cb21-15"></a></span>
<span id="cb21-16"><a href="#cb21-16"></a><span class="co"># Save docx</span></span>
<span id="cb21-17"><a href="#cb21-17"></a>summary_table <span class="sc">%&gt;%</span> </span>
<span id="cb21-18"><a href="#cb21-18"></a>  <span class="fu">as_gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb21-19"><a href="#cb21-19"></a>  gt<span class="sc">::</span><span class="fu">gtsave</span>(<span class="at">file =</span> <span class="st">"Results/summary_table.docx"</span>)</span>
<span id="cb21-20"><a href="#cb21-20"></a></span>
<span id="cb21-21"><a href="#cb21-21"></a><span class="co"># Save data</span></span>
<span id="cb21-22"><a href="#cb21-22"></a><span class="fu">export</span>(summary_table, <span class="at">file =</span> <span class="st">"MyData/summary_table.rds"</span>)</span>
<span id="cb21-23"><a href="#cb21-23"></a></span>
<span id="cb21-24"><a href="#cb21-24"></a><span class="co"># 2. Emancipative: urban vs rural</span></span>
<span id="cb21-25"><a href="#cb21-25"></a>  <span class="co"># Test the difference in emancipative and variables related</span></span>
<span id="cb21-26"><a href="#cb21-26"></a>  <span class="co"># to the importance of value in life by urbanicity of region </span></span>
<span id="cb21-27"><a href="#cb21-27"></a>  <span class="co"># of residence.</span></span>
<span id="cb21-28"><a href="#cb21-28"></a>emancipative_table <span class="ot">&lt;-</span> </span>
<span id="cb21-29"><a href="#cb21-29"></a>  andorra_clean <span class="sc">%&gt;%</span> </span>
<span id="cb21-30"><a href="#cb21-30"></a>  <span class="fu">select</span>(h_urbrural,</span>
<span id="cb21-31"><a href="#cb21-31"></a>         emancipative,</span>
<span id="cb21-32"><a href="#cb21-32"></a>         <span class="fu">starts_with</span>(<span class="st">"q"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb21-33"><a href="#cb21-33"></a>  <span class="fu">tbl_summary</span>(<span class="at">by =</span> h_urbrural) <span class="sc">%&gt;%</span> </span>
<span id="cb21-34"><a href="#cb21-34"></a>  <span class="fu">add_p</span>()</span>
<span id="cb21-35"><a href="#cb21-35"></a></span>
<span id="cb21-36"><a href="#cb21-36"></a><span class="co"># Save docx</span></span>
<span id="cb21-37"><a href="#cb21-37"></a>emancipative_table <span class="sc">%&gt;%</span> </span>
<span id="cb21-38"><a href="#cb21-38"></a>  <span class="fu">as_gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb21-39"><a href="#cb21-39"></a>  gt<span class="sc">::</span><span class="fu">gtsave</span>(<span class="at">file =</span> <span class="st">"Results/emancipative_table.docx"</span>)</span>
<span id="cb21-40"><a href="#cb21-40"></a></span>
<span id="cb21-41"><a href="#cb21-41"></a><span class="co"># Save data</span></span>
<span id="cb21-42"><a href="#cb21-42"></a><span class="fu">export</span>(emancipative_table, <span class="at">file =</span> <span class="st">"MyData/emancipative_table.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, gtsummary)</span>
<span id="cb22-3"><a href="#cb22-3"></a></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="co"># Options ----</span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>())</span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="fu">theme_update</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb22-7"><a href="#cb22-7"></a></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="co"># Data ----</span></span>
<span id="cb22-9"><a href="#cb22-9"></a>andorra_clean <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"MyData/andorra_clean.rds"</span>)</span>
<span id="cb22-10"><a href="#cb22-10"></a></span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="co"># Visualization ----</span></span>
<span id="cb22-12"><a href="#cb22-12"></a><span class="co"># 1. Emancipative distribution</span></span>
<span id="cb22-13"><a href="#cb22-13"></a>  <span class="co"># Simple dansity plot for the emancipative part</span></span>
<span id="cb22-14"><a href="#cb22-14"></a>emancipative_distribution<span class="ot">&lt;-</span> </span>
<span id="cb22-15"><a href="#cb22-15"></a>  andorra_clean <span class="sc">%&gt;%</span> </span>
<span id="cb22-16"><a href="#cb22-16"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(emancipative)) <span class="sc">+</span></span>
<span id="cb22-17"><a href="#cb22-17"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"cyan"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-18"><a href="#cb22-18"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Emancipative index distribution"</span>)</span>
<span id="cb22-19"><a href="#cb22-19"></a></span>
<span id="cb22-20"><a href="#cb22-20"></a><span class="co"># Save png</span></span>
<span id="cb22-21"><a href="#cb22-21"></a>emancipative_distribution <span class="sc">%&gt;%</span> </span>
<span id="cb22-22"><a href="#cb22-22"></a>  <span class="fu">ggsave</span>(<span class="at">plot =</span> .,</span>
<span id="cb22-23"><a href="#cb22-23"></a>         <span class="at">filename =</span> <span class="st">"Results/emancipative_distribution.png"</span>)</span>
<span id="cb22-24"><a href="#cb22-24"></a></span>
<span id="cb22-25"><a href="#cb22-25"></a><span class="co"># Save ggplot</span></span>
<span id="cb22-26"><a href="#cb22-26"></a>emancipative_distribution <span class="sc">%&gt;%</span> </span>
<span id="cb22-27"><a href="#cb22-27"></a>  <span class="fu">export</span>(<span class="at">file =</span> <span class="st">"MyData/emancipative_distribution.rds"</span>)</span>
<span id="cb22-28"><a href="#cb22-28"></a></span>
<span id="cb22-29"><a href="#cb22-29"></a><span class="co"># 2. Emancipaitve/sex/urbrural</span></span>
<span id="cb22-30"><a href="#cb22-30"></a>  <span class="co"># Emancipative destribtuion by sex and urbanicity</span></span>
<span id="cb22-31"><a href="#cb22-31"></a>  <span class="co"># region of residence</span></span>
<span id="cb22-32"><a href="#cb22-32"></a>emancipative_sex_urban <span class="ot">&lt;-</span> </span>
<span id="cb22-33"><a href="#cb22-33"></a>  andorra_clean <span class="sc">%&gt;%</span> </span>
<span id="cb22-34"><a href="#cb22-34"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(emancipative, <span class="at">fill =</span> h_urbrural)) <span class="sc">+</span></span>
<span id="cb22-35"><a href="#cb22-35"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-36"><a href="#cb22-36"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sex) <span class="sc">+</span></span>
<span id="cb22-37"><a href="#cb22-37"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Emancipative index distribution"</span>,</span>
<span id="cb22-38"><a href="#cb22-38"></a>       <span class="at">subtitle =</span> <span class="st">"by sex and urbanicity of region of residence"</span>,</span>
<span id="cb22-39"><a href="#cb22-39"></a>       <span class="at">fill =</span> <span class="st">"Urbanicity"</span>)</span>
<span id="cb22-40"><a href="#cb22-40"></a></span>
<span id="cb22-41"><a href="#cb22-41"></a><span class="co"># Save png</span></span>
<span id="cb22-42"><a href="#cb22-42"></a>emancipative_sex_urban <span class="sc">%&gt;%</span> </span>
<span id="cb22-43"><a href="#cb22-43"></a>  <span class="fu">ggsave</span>(<span class="at">plot =</span> .,</span>
<span id="cb22-44"><a href="#cb22-44"></a>         <span class="at">scale =</span> <span class="fl">1.5</span>,</span>
<span id="cb22-45"><a href="#cb22-45"></a>         <span class="at">filename =</span> <span class="st">"Results/emancipative_sex_urban.png"</span>)</span>
<span id="cb22-46"><a href="#cb22-46"></a></span>
<span id="cb22-47"><a href="#cb22-47"></a><span class="co"># Save ggplot</span></span>
<span id="cb22-48"><a href="#cb22-48"></a>emancipative_sex_urban <span class="sc">%&gt;%</span> </span>
<span id="cb22-49"><a href="#cb22-49"></a>  <span class="fu">export</span>(<span class="at">file =</span> <span class="st">"MyData/emancipative_sex_urban.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-3">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># Libraries ----</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, rio, sjPlot)</span>
<span id="cb23-3"><a href="#cb23-3"></a></span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="co"># Data ----</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>andorra_clean <span class="ot">&lt;-</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>  <span class="fu">import</span>(<span class="st">"MyData/andorra_clean.rds"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-7"><a href="#cb23-7"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span><span class="sc">:</span><span class="dv">11</span>), fct_drop)</span>
<span id="cb23-8"><a href="#cb23-8"></a></span>
<span id="cb23-9"><a href="#cb23-9"></a><span class="co"># Analysis ----</span></span>
<span id="cb23-10"><a href="#cb23-10"></a></span>
<span id="cb23-11"><a href="#cb23-11"></a><span class="do">## Model ----</span></span>
<span id="cb23-12"><a href="#cb23-12"></a>  <span class="co"># A linear model testing the relationship between the emancipative</span></span>
<span id="cb23-13"><a href="#cb23-13"></a>  <span class="co"># index and predictors (sex, age, urbanicity of region of residence)</span></span>
<span id="cb23-14"><a href="#cb23-14"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(emancipative <span class="sc">~</span> sex <span class="sc">+</span> age <span class="sc">+</span> h_urbrural,</span>
<span id="cb23-15"><a href="#cb23-15"></a>            <span class="at">data =</span> andorra_clean)</span>
<span id="cb23-16"><a href="#cb23-16"></a></span>
<span id="cb23-17"><a href="#cb23-17"></a><span class="co"># Save data (model)</span></span>
<span id="cb23-18"><a href="#cb23-18"></a><span class="fu">export</span>(model, <span class="at">file =</span> <span class="st">"MyData/model.rds"</span>)</span>
<span id="cb23-19"><a href="#cb23-19"></a></span>
<span id="cb23-20"><a href="#cb23-20"></a><span class="co"># Regression table</span></span>
<span id="cb23-21"><a href="#cb23-21"></a>  <span class="co"># The model regression table (save automaticaly)</span></span>
<span id="cb23-22"><a href="#cb23-22"></a><span class="fu">tab_model</span>(model,</span>
<span id="cb23-23"><a href="#cb23-23"></a>          <span class="at">collapse.ci =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-24"><a href="#cb23-24"></a>          <span class="at">p.style =</span> <span class="st">"stars"</span>,</span>
<span id="cb23-25"><a href="#cb23-25"></a>          <span class="at">file =</span> <span class="st">"Results/regression_table.doc"</span>)</span>
<span id="cb23-26"><a href="#cb23-26"></a></span>
<span id="cb23-27"><a href="#cb23-27"></a><span class="co"># Save data (regression table)</span></span>
<span id="cb23-28"><a href="#cb23-28"></a>regression_table <span class="ot">&lt;-</span> </span>
<span id="cb23-29"><a href="#cb23-29"></a>  <span class="fu">tab_model</span>(model,</span>
<span id="cb23-30"><a href="#cb23-30"></a>          <span class="at">collapse.ci =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-31"><a href="#cb23-31"></a>          <span class="at">p.style =</span> <span class="st">"stars"</span>)</span>
<span id="cb23-32"><a href="#cb23-32"></a></span>
<span id="cb23-33"><a href="#cb23-33"></a><span class="fu">export</span>(regression_table, <span class="at">file =</span> <span class="st">"MyData/regression_table.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="background-jobs" class="slide level2">
<h2>Background Jobs</h2>

<img data-src="pictures/background_job_print.png" class="r-stretch quarto-figure-center"><p class="caption">It is running alone!</p><p>Now that every file is self-contained, we can run them as <a href="https://docs.posit.co/ide/user/ide/guide/tools/jobs.html">background jobs</a> to save time.</p>
</section>
<section class="slide level2">

<h3 id="advantages-of-background-jobs">Advantages of background jobs</h3>
<ul>
<li>We can keep working with the console while it is running</li>
<li>We are saving time when the work is long</li>
<li>We plan multiple jobs</li>
</ul>
<p><strong>But we still have a dependency tree problem!</strong></p>
</section>
<section class="slide level2">

<h3 id="dependency-tree">Dependency tree</h3>
<div class="cell" data-reveal="true">
<div class="cell-output-display">
<div>
<div>

<pre class="mermaid mermaid-js">graph LR;
  a[1_cleaning.R] --&gt; b[2_tables.R] &amp; c[3_figures.R] &amp; d[4_models.R]
</pre>
</div>
</div>
</div>
</div>
<ul>
<li>If <code>1_cleaning.R</code> changes, we need to rerun all the files</li>
</ul>
<p>The best tool that automaticaly handle which file to run is <a href="https://books.ropensci.org/targets/">{target}</a>, but it is pretty advanced.</p>
</section>
<section id="workflow-in-nutshell" class="slide level2">
<h2>Workflow in nutshell</h2>
<ol type="1">
<li><span style="color: blue;">Create a project</span></li>
<li><span style="color: blue;">Populate it with the right folders and the data</span>
<ul>
<li>No space and special character (files/folder)</li>
<li>Put script in order</li>
</ul></li>
<li><span style="color: blue;">For each file</span>
<ul>
<li><strong>Self-contained</strong>: load packages, data</li>
<li><strong>Clean code</strong>: Name, space, comments, sections, order, etc.</li>
<li><strong>Save output</strong>: data format and/or other (pictures, files, etc.)</li>
</ul></li>
</ol>
</section>
<section id="optimization" class="slide level2">
<h2>Optimization</h2>
<p>There are other tools to make your work better/efficient</p>
<ul>
<li><p><a href="https://github.com/dokato/todor">{todor}</a>: TODO, FIXME, etc. to keep track of your work</p></li>
<li><p>Don’t repeat yourself with <a href="https://nhsrcommunity.com/dont-repeat-yourself-functions/">function</a> and <a href="https://github.com/wahani/modules">{modules}</a></p></li>
<li><p>Help me help you with <a href="https://reprex.tidyverse.org/">{reprex}</a></p></li>
<li><p>Functional (<a href="https://purrr.tidyverse.org/">{purrr}</a>) and Meta (<a href="https://rlang.r-lib.org/">{rlang}</a>) programming</p></li>
<li><p>SPEED (data): <a href="https://sebkrantz.github.io/collapse/">{collapse}</a>, <a href="https://rdatatable.gitlab.io/data.table/">{data.table}</a>, <a href="https://dtplyr.tidyverse.org/">{dtplyr}</a>, <a href="https://dbplyr.tidyverse.org/">{dbplyr}</a>, <a href="https://arrow.apache.org/docs/r/">{arrow}</a>, <a href="https://github.com/pola-rs/r-polars">{polar}</a>, <a href="https://github.com/markfairbanks/tidypolars">{tidypolar}</a></p></li>
<li><p>SPEED (computing): <a href="https://future.futureverse.org/">{future}</a>, <a href="https://furrr.futureverse.org/">{furrr}</a>, <a href="https://www.rcpp.org/">{Rcpp}</a>, <a href="https://github.com/Non-Contradiction/JuliaCall">{JuliaCall}</a></p></li>
<li><p>Automate your project with <a href="https://support.posit.co/hc/en-us/articles/360047157094-Managing-R-with-Rprofile-Renviron-Rprofile-site-Renviron-site-rsession-conf-and-repos-conf">.Rprofile</a> and <a href="https://usethis.r-lib.org/">{usethis}</a></p></li>
</ul>
</section>
<section id="resources-to-deepen-your-knowledge-in-r" class="slide level2">
<h2>Resources to deepen your knowledge in R</h2>
<ul>
<li><p><a href="https://www.r-project.org/help.html">Getting help with R</a>: How do I know how it works?</p></li>
<li><p><a href="https://bookdown.org/">Bookdown</a>: free books online</p>
<ul>
<li><a href="https://r4ds.had.co.nz/">R for Data science</a>: Startin using R for data analysis</li>
</ul></li>
<li><p><a href="https://www.tidyverse.org/">{tidyverse}</a>: The new coding standard in R</p></li>
<li><p><a href="https://github.com/iamericfletcher/awesome-r-learning-resources">Awesome R</a>: List of awesome packages/works/etc. in R</p></li>
<li><p><a href="https://www.r-pkg.org/">Metacran</a>: All the available packages</p></li>
</ul>
</section></section>
<section>
<section id="show-your-results-with-quarto" class="title-slide slide level1 center">
<h1>(4) Show your results with Quarto</h1>

</section>
<section id="what-is-quarto" class="slide level2">
<h2>What is Quarto?</h2>
<p>One of the best tool for scientific publishing! Keep your code, result and writting together!</p>
<ul>
<li><p><a href="https://quarto.org/">Quarto!</a></p></li>
<li><p><a href="https://quarto.org/docs/guide/">Getting Started</a></p></li>
<li><p><a href="https://github.com/mcanouil/awesome-quarto">Awesome Quarto</a></p></li>
</ul>
</section>
<section id="why-you-should-use-quarto" class="slide level2">
<h2>Why you should use Quarto?</h2>
<p>As a (data) scientist/researcher, you should save time when you need to publish. Quarto allows you to put your code, its output and your writting in a single file that can be exported in many format.</p>
<ul>
<li><p>Language agnostic (R, Python, Julia and JavaScript)</p></li>
<li><p>Highly portable (Rstudio, VS Code, Jupyter, Neovim, etc.)</p></li>
<li><p>Versatile formats (articles, presentation, website, books, etc.)</p></li>
<li><p>Good defaults and highly customizable (template for journals)</p></li>
</ul>
</section>
<section id="quarto-vs-rmarkdown" class="slide level2">
<h2>Quarto vs RMarkdown</h2>
<ul>
<li><p>Better interface in general (visual mode improved)</p></li>
<li><p><span style="color: red;"><strong>Better format handling!</strong></span></p></li>
<li><p>Code completion in YAML and markdown</p></li>
<li><p>Easier to learn (everything builtin and feature cross format)</p></li>
<li><p>Rmarkdown are easily convertible (also your knowledge)</p></li>
<li><p><strong>Quarto will continue to grow, Rmarkdown won’t</strong></p></li>
</ul>
<p><span style="color: green;">As a RMarkdown user, it is easy to start Quarto (they are mostly the same!)</span></p>
</section>
<section id="your-first-notebook" class="slide level2">
<h2>Your first notebook</h2>
<p>Now let’s add the results of our analysis to a notebook!</p>
<div class="cell" data-reveal="true">
<div class="cell-output-display">
<div>
<div>

<pre class="mermaid mermaid-js">graph LR;
  a[1_cleaning.R] --&gt; b[2_tables.R] &amp; c[3_figures.R] &amp; d[4_models.R]
  b &amp; c &amp; d --&gt; e[report.qmd]
  e --&gt; f[articles] &amp; g[presentation] &amp; h[website] &amp; i[book]
</pre>
</div>
</div>
</div>
</div>
<p><strong>Follow the guide!</strong></p>
</section></section>
<section id="questions-freestyle" class="title-slide slide level1 center">
<h1>(5) Questions &amp; freestyle</h1>
<p><strong>You can:</strong></p>
<ul>
<li><p>Discuss/ask questions</p></li>
<li><p>Try the whole workflow with your own projects</p></li>
<li><p>Leave</p></li>
</ul>
<p><strong>I can:</strong></p>
<ul>
<li><p>Show you the magic wand</p></li>
<li><p>Go in depth we some ressources</p></li>
</ul>

<img src="pictures/wedata_logo.png" class="slide-logo r-stretch"><div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="workshop_2023_09_05_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="workshop_2023_09_05_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>